---
{"publish":true,"title":"CloudflareDNS","created":"2025-07-22T14:02:01.125+09:00","modified":"2025-07-22T18:50:01.608+09:00","tags":["cloudflare","server","proxy","infra","dns"],"cssclasses":""}
---

클라우드플레어는 인터넷에서 운영되는 가장 큰 네트워크 중 하나이다. 사람들은 웹 사이트 및 서비스의 보안과 성능을 향상시키기 위해 Cloudflare 서비스를 사용한다.

본인은 그 중 일부인 DNS 서비스를 사용하려고 한다.  
DNS 서비스를 사용하기 위해 도메인의 네임서버를 클라우드플레어 네임서버로 등록이 필요하며 아래의 단계로 설명한다.

## 네임서버 설정

1. '계정 홈' 메뉴에서 **도메인 추가** 버튼을 클릭한다.  
![[files/스크린샷 2025-07-22 오후 3.26.25.png]]
  
2. 도메인 주소를 입력한다.  
![[files/스크린샷 2025-07-22 오후 3.25.27.png]]
  
3. 필요함에 따라 요금제를 선택한다 (본인은 Free 요금제를 선택)
![[files/스크린샷 2025-07-22 오후 3.29.01.png]]
  
4. DNS 레코드 검토 창에서 사용할 레코드를 미리 추가할 수 있다
> [!tip] Tip
> DNS 레코드를 미리 구성하지 않더라도 관계없습니다.

![[files/스크린샷 2025-07-22 오후 3.34.08.png]]
  
5. 네임서버 업데이트를 마지막으로 DNS 서비스를 사용할 수 있게된다.
> [!tip] Tip
> 네임서버 업데이트는 도메인 구매처에서 진행할 수 있고, 업데이트 시 즉시 반영이 아닌 시간이 소요된다 (최대 1일 이상)

![[files/스크린샷 2025-07-22 오후 3.41.43.png]]
  
## DNS 관리

사용 준비가 되었다면 DNS 등록을 통해 도메인과 서버 연결이 가능하다.  
본인이 클라우드플레어 서비스를 사용한 이유 중 하나는 바로 [[infrastructure/proxy-server\|프록시 서버]]를 무료로 사용할 수 있는 장점이 있다.
물론, 클라우드플레어의 한국 데이터센터의 경우 한국망 트래픽 비용이 높은 이유로 한국 데이터센터와 가까운 한국망에 있는 서버와 클라이언트 일지라도 다른 해외망을 통해 접속되기때문에 비교적 속도 이슈가 있는편이다.  
한국 데이터센터를 거치도록 DNS를 구성하려면 엔터프라이즈 요금제를 사용해야하는 것으로 알고있다.


> [!tip] Tip
> 클라우드플레어 프록시 서버 활성화 시 범용 SSL 인증서를 사용할 수 있어 보안에 유리하다.


1. 'DNS' 메뉴의 '레코드'로 이동
![[files/스크린샷 2025-07-22 오후 5.10.47.png]]
  
2. 레코드 추가
![[files/스크린샷 2025-07-22 오후 5.24.36.png]]


## 원본서버 SSL 적용
![[files/스크린샷 2025-07-22 오후 5.57.25.png]]
위 과정까지 모두 완료하였다면, 이제 클라이언트가 프록시 서버로 접근할때 https로 접속된다.  
그렇다면, 원본서버는 SSL이 적용된 상태인가?  
아니라면, 클라우드플레어에서 지원하는 원본서버 전용 SSL 인증서를 발급 받을 수 있다.  
단, 원본서버는 클라우드플레어와 원본 서버 간 암호화에만 유효하기때문에 프록시 서버를 필수로 사용해야한다.

1. 'SSL/TLS' 메뉴의 '원본 서버' 이동
![[files/스크린샷 2025-07-22 오후 5.54.22.png]]
  
2. 인증서 생성 버튼을 클릭하여 인증서 생성
![[files/스크린샷 2025-07-22 오후 5.55.13.png]]
  
3. 발급된 인증서와 개인키를 서버에 업로드하여 인증서를 적용한 443포트 개방